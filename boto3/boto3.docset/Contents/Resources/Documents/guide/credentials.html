
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Licensed under the Apache 2.0 License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/open-sans/stylesheet.css" />
  <!-- Licensed under the SIL Open Font License -->
  <link rel="stylesheet" type="text/css" href="../_static/fonts/source-serif-pro/source-serif-pro.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="../_static/css/bootstrap-theme.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    <title>Credentials &#8212; Boto3 Docs 1.17.70 documentation</title>
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/guzzle.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Low-level clients" href="clients.html" />
    <link rel="prev" title="Configuration" href="configuration.html" />
  
   

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="clients.html" title="Low-level clients"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Configuration"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Boto3 Docs 1.17.70 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Developer guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Credentials</a></li> 
      </ul>
    </div>
    <div class="container-wrapper">

      <div id="mobile-toggle">
        <a href="#"><span class="glyphicon glyphicon-align-justify" aria-hidden="true"></span></a>
      </div>
  <div id="left-column">
    <div class="sphinxsidebar"><a href="
    ../index.html" class="text-logo">Boto3 Docs 1.17.70 documentation</a><div class="sidebar-block">
  <div class="sidebar-wrapper">
    <h2>Table Of Contents</h2>
  </div>
  <div class="sidebar-toc">
    
    
      <ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="sqs.html">A sample tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Code examples</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Developer guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html#sdk-features">SDK features</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Credentials</a></li>
<li class="toctree-l3"><a class="reference internal" href="clients.html">Low-level clients</a></li>
<li class="toctree-l3"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l3"><a class="reference internal" href="session.html">Session</a></li>
<li class="toctree-l3"><a class="reference internal" href="collections.html">Collections</a></li>
<li class="toctree-l3"><a class="reference internal" href="paginators.html">Paginators</a></li>
<li class="toctree-l3"><a class="reference internal" href="error-handling.html">Error handling</a></li>
<li class="toctree-l3"><a class="reference internal" href="retries.html">Retries</a></li>
<li class="toctree-l3"><a class="reference internal" href="events.html">Extensibility guide</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#tools">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#migrations">Migrations</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/services/index.html">Available services</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/core/index.html">Core references</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/customizations/index.html">Customization references</a></li>
</ul>

    
  </div>
</div>
<div class="sidebar-block">
  <div class="sidebar-wrapper">
    <div id="main-search">
      <form class="form-inline" action="../search.html" method="GET" role="form">
        <div class="input-group">
          <input name="q" type="text" class="form-control" placeholder="Search...">
        </div>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div>
      
    </div>
  </div>
        <div id="right-column">
          

          <div role="navigation" aria-label="breadcrumbs navigation">
            <ol class="breadcrumb">
              <li><a href="../index.html">Docs</a></li>
              
                <li><a href="index.html">Developer guide</a></li>
              
              <li>Credentials</li>
            </ol>
          </div>
          
<!--REGION_DISCLAIMER_DO_NOT_REMOVE-->
          <div class="document clearer body">
            
  <div class="section" id="credentials">
<span id="guide-credentials"></span><h1>Credentials<a class="headerlink" href="#credentials" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Boto3 credentials can be configured in multiple ways. Regardless of the source or sources that you choose, you <em>must</em> have both AWS credentials and an AWS Region set in order to make requests.</p>
</div>
<div class="section" id="interactive-configuration">
<h2>Interactive configuration<a class="headerlink" href="#interactive-configuration" title="Permalink to this headline">¶</a></h2>
<p>If you have the <a class="reference external" href="http://aws.amazon.com/cli/">AWS CLI</a>, then you can use its interactive <code class="docutils literal notranslate"><span class="pre">configure</span></code> command to set up your credentials and default region:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>aws configure
</pre></div>
</div>
<p>Follow the prompts and it will generate configuration files in the correct locations for you.</p>
</div>
<div class="section" id="configuring-credentials">
<h2>Configuring credentials<a class="headerlink" href="#configuring-credentials" title="Permalink to this headline">¶</a></h2>
<p>There are two types of configuration data in Boto3: credentials and non-credentials. Credentials include items such as <code class="docutils literal notranslate"><span class="pre">aws_access_key_id</span></code>, <code class="docutils literal notranslate"><span class="pre">aws_secret_access_key</span></code>, and <code class="docutils literal notranslate"><span class="pre">aws_session_token</span></code>. Non-credential configuration includes items such as which region to use or which addressing style to use for Amazon S3. For more information on how to configure non-credential configurations, see the <a class="reference internal" href="configuration.html#guide-configuration"><span class="std std-ref">Configuration</span></a> guide.</p>
<p>Boto3 will look in several locations when searching for credentials. The mechanism in which Boto3 looks for credentials is to search through a list of possible locations and stop as soon as it finds credentials. The order in which Boto3 searches for credentials is:</p>
<ol class="arabic simple">
<li><p>Passing credentials as parameters in the <code class="docutils literal notranslate"><span class="pre">boto.client()</span></code> method</p></li>
<li><p>Passing credentials as parameters when creating a <code class="docutils literal notranslate"><span class="pre">Session</span></code> object</p></li>
<li><p>Environment variables</p></li>
<li><p>Shared credential file (<code class="docutils literal notranslate"><span class="pre">~/.aws/credentials</span></code>)</p></li>
<li><p>AWS config file (<code class="docutils literal notranslate"><span class="pre">~/.aws/config</span></code>)</p></li>
<li><p>Assume Role provider</p></li>
<li><p>Boto2 config file (<code class="docutils literal notranslate"><span class="pre">/etc/boto.cfg</span></code> and <code class="docutils literal notranslate"><span class="pre">~/.boto</span></code>)</p></li>
<li><p>Instance metadata service on an Amazon EC2 instance that has an IAM role configured.</p></li>
</ol>
<p>Each of those locations is discussed in more detail below.</p>
</div>
<div class="section" id="passing-credentials-as-parameters">
<h2>Passing credentials as parameters<a class="headerlink" href="#passing-credentials-as-parameters" title="Permalink to this headline">¶</a></h2>
<p>There are valid use cases for providing credentials to the <code class="docutils literal notranslate"><span class="pre">client()</span></code> method and <code class="docutils literal notranslate"><span class="pre">Session</span></code> object, these include:</p>
<ul class="simple">
<li><p>Retrieving temporary credentials using AWS STS (such as <code class="docutils literal notranslate"><span class="pre">sts.get_session_token()</span></code>).</p></li>
<li><p>Loading credentials from some external location, e.g the OS keychain.</p></li>
</ul>
<p>The first option for providing credentials to Boto3 is passing them as parameters when creating clients:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boto3</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">client</span><span class="p">(</span>
    <span class="s1">&#39;s3&#39;</span><span class="p">,</span>
    <span class="n">aws_access_key_id</span><span class="o">=</span><span class="n">ACCESS_KEY</span><span class="p">,</span>
    <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="n">SECRET_KEY</span><span class="p">,</span>
    <span class="n">aws_session_token</span><span class="o">=</span><span class="n">SESSION_TOKEN</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The second option for providing credentials to Boto3 is passing them as parameters when creating a <code class="docutils literal notranslate"><span class="pre">Session</span></code> object:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boto3</span>

<span class="n">session</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">Session</span><span class="p">(</span>
    <span class="n">aws_access_key_id</span><span class="o">=</span><span class="n">ACCESS_KEY</span><span class="p">,</span>
    <span class="n">aws_secret_access_key</span><span class="o">=</span><span class="n">SECRET_KEY</span><span class="p">,</span>
    <span class="n">aws_session_token</span><span class="o">=</span><span class="n">SESSION_TOKEN</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">ACCESS_KEY</span></code>, <code class="docutils literal notranslate"><span class="pre">SECRET_KEY</span></code>, and <code class="docutils literal notranslate"><span class="pre">SESSION_TOKEN</span></code> are variables that contain your access key, secret key, and optional session token. Note that the examples above do not have hard coded credentials. We do <strong>not</strong> recommend hard coding credentials in your source code.</p>
</div>
</div>
<div class="section" id="environment-variables">
<h2>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h2>
<p>Boto3 will check these environment variables for credentials:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AWS_ACCESS_KEY_ID</span></code> - The access key for your AWS account.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AWS_SECRET_ACCESS_KEY</span></code> - The secret key for your AWS account.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AWS_SESSION_TOKEN</span></code> - The session key for your AWS account. This is only needed when you are using temporary credentials. The <code class="docutils literal notranslate"><span class="pre">AWS_SECURITY_TOKEN</span></code> environment variable can also be used, but is only supported for backwards compatibility purposes. <code class="docutils literal notranslate"><span class="pre">AWS_SESSION_TOKEN</span></code> is supported by multiple AWS SDKs besides python.</p></li>
</ul>
</div>
<div class="section" id="shared-credentials-file">
<h2>Shared credentials file<a class="headerlink" href="#shared-credentials-file" title="Permalink to this headline">¶</a></h2>
<p>The shared credentials file has a default location of <code class="docutils literal notranslate"><span class="pre">~/.aws/credentials</span></code>. You can change the location of the shared credentials file by setting the <code class="docutils literal notranslate"><span class="pre">AWS_SHARED_CREDENTIALS_FILE</span></code> environment variable.</p>
<p>This file is an INI formatted file with section names corresponding to profiles. With each section, the three configuration variables shown above can be specified: <code class="docutils literal notranslate"><span class="pre">aws_access_key_id</span></code>, <code class="docutils literal notranslate"><span class="pre">aws_secret_access_key</span></code>, <code class="docutils literal notranslate"><span class="pre">aws_session_token</span></code>. <em>These are the only supported values in the shared credential file.</em></p>
<p>Below is an minimal example of the shared credentials file:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[default]</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">foo</span>
<span class="na">aws_secret_access_key</span><span class="o">=</span><span class="s">bar</span>
<span class="na">aws_session_token</span><span class="o">=</span><span class="s">baz</span>
</pre></div>
</div>
<p>The shared credentials file also supports the concept of profiles. Profiles represent logical groups of configuration. The shared credential file can have multiple profiles:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[default]</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">foo</span>
<span class="na">aws_secret_access_key</span><span class="o">=</span><span class="s">bar</span>

<span class="k">[dev]</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">foo2</span>
<span class="na">aws_secret_access_key</span><span class="o">=</span><span class="s">bar2</span>

<span class="k">[prod]</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">foo3</span>
<span class="na">aws_secret_access_key</span><span class="o">=</span><span class="s">bar3</span>
</pre></div>
</div>
<p>You can then specify a profile name via the <code class="docutils literal notranslate"><span class="pre">AWS_PROFILE</span></code> environment variable or the <code class="docutils literal notranslate"><span class="pre">profile_name</span></code> argument when creating a <code class="docutils literal notranslate"><span class="pre">Session</span></code>. For example, we can create a Session using the “dev” profile and any clients created from this session will use the “dev” credentials:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">boto3</span>

<span class="n">session</span> <span class="o">=</span> <span class="n">boto3</span><span class="o">.</span><span class="n">Session</span><span class="p">(</span><span class="n">profile_name</span><span class="o">=</span><span class="s1">&#39;dev&#39;</span><span class="p">)</span>
<span class="n">dev_s3_client</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">client</span><span class="p">(</span><span class="s1">&#39;s3&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="aws-config-file">
<h2>AWS config file<a class="headerlink" href="#aws-config-file" title="Permalink to this headline">¶</a></h2>
<p>Boto3 can also load credentials from <code class="docutils literal notranslate"><span class="pre">~/.aws/config</span></code>. You can change this default location by setting the <code class="docutils literal notranslate"><span class="pre">AWS_CONFIG_FILE</span></code> environment variable. The config file is an INI format, with the same keys supported by the shared credentials file. The only difference is that profile sections <em>must</em> have the format of <code class="docutils literal notranslate"><span class="pre">[profile</span> <span class="pre">profile-name]</span></code>, except for the default profile:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[default]</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">foo</span>
<span class="na">aws_secret_access_key</span><span class="o">=</span><span class="s">bar</span>

<span class="k">[profile dev]</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">foo2</span>
<span class="na">aws_secret_access_key</span><span class="o">=</span><span class="s">bar2</span>

<span class="k">[profile prod]</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">foo3</span>
<span class="na">aws_secret_access_key</span><span class="o">=</span><span class="s">bar3</span>
</pre></div>
</div>
<p>The reason that section names must start with profile in the <code class="docutils literal notranslate"><span class="pre">~/.aws/config</span></code> file is because there are other sections in this file that are permitted that aren’t profile configurations.</p>
</div>
<div class="section" id="assume-role-provider">
<h2>Assume role provider<a class="headerlink" href="#assume-role-provider" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a different set of credentials configuration than using IAM roles for EC2 instances, which is discussed in a section below.</p>
</div>
<p>Within the <code class="docutils literal notranslate"><span class="pre">~/.aws/config</span></code> file, you can also configure a profile to indicate that Boto3 should assume a role. When you do this, Boto3 will automatically make the corresponding AssumeRole calls to AWS STS on your behalf. It will handle in-memory caching as well as refreshing credentials as needed.</p>
<p>You can specify the following configuration values for configuring an IAM role in Boto3. For more information about a particular setting, see the <a class="reference internal" href="configuration.html#guide-configuration"><span class="std std-ref">Configuration</span></a> section.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">role_arn</span></code> - The ARN of the role you want to assume.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">source_profile</span></code> - The boto3 profile that contains credentials we should use for the initial AssumeRole call.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">credential_source</span></code> - The resource (Amazon EC2 instance profile, Amazon ECS container role, or environment variable) that contains the credentials to use for the initial AssumeRole call.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">external_id</span></code> - A unique identifier that is used by third parties to assume a role in their customers’ accounts. This maps to the <code class="docutils literal notranslate"><span class="pre">ExternalId</span></code> parameter in the AssumeRole operation. This is an optional parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mfa_serial</span></code> - The identification number of the MFA device to use when assuming a role. This is an optional parameter. Specify this value if the trust policy of the role being assumed includes a condition that requires MFA authentication. The value is either the serial number for a hardware device (such as GAHT12345678) or an Amazon Resource Name (ARN) for a virtual device (such as <em>arn:aws:iam::123456789012:mfa/user</em>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">role_session_name</span></code> - The name applied to this assume-role session. This value affects the assumed role user ARN (such as <em>arn:aws:sts::123456789012:assumed-role/role_name/role_session_name</em>). This maps to the RoleSessionName parameter in the AssumeRole operation. This is an optional parameter. If you do not provide this value, a session name will be automatically generated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">duration_seconds</span></code> - The length of time in seconds of the role session.</p></li>
</ul>
<p>If MFA authentication is not enabled then you only need to specify a <code class="docutils literal notranslate"><span class="pre">role_arn</span></code> and a <code class="docutils literal notranslate"><span class="pre">source_profile</span></code>.</p>
<p>When you specify a profile that has an IAM role configuration, Boto3 will make an <code class="docutils literal notranslate"><span class="pre">AssumeRole</span></code> call to retrieve temporary credentials. Subsequent Boto3 API calls will use the cached temporary credentials until they expire, in which case Boto3 will then automatically refresh the credentials.</p>
<p>Please note that Boto3 does not write these temporary credentials to disk. This means that temporary credentials from the <code class="docutils literal notranslate"><span class="pre">AssumeRole</span></code> calls are only cached in-memory within a single session. All clients created from that session will share the same temporary credentials.</p>
<p>If you specify <code class="docutils literal notranslate"><span class="pre">mfa_serial</span></code>, then the first time an <code class="docutils literal notranslate"><span class="pre">AssumeRole</span></code> call is made, you will be prompted to enter the MFA code. <strong>Program execution will block until you enter the MFA code.</strong> You’ll need to keep this in mind if you have an <code class="docutils literal notranslate"><span class="pre">mfa_serial</span></code> device configured, but would like to use Boto3 in an automated script.</p>
<p>Below is an example configuration for the minimal amount of configuration needed to configure an assume role profile:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># In ~/.aws/credentials:</span>
<span class="k">[development]</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">foo</span>
<span class="na">aws_access_key_id</span><span class="o">=</span><span class="s">bar</span>

<span class="c1"># In ~/.aws/config</span>
<span class="k">[profile crossaccount]</span>
<span class="na">role_arn</span><span class="o">=</span><span class="s">arn:aws:iam:...</span>
<span class="na">source_profile</span><span class="o">=</span><span class="s">development</span>
</pre></div>
</div>
<p>See Using <a class="reference external" href="http://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use.html">IAM Roles</a> for general information on IAM roles.</p>
</div>
<div class="section" id="assume-role-with-web-identity-provider">
<h2>Assume Role With Web Identity Provider<a class="headerlink" href="#assume-role-with-web-identity-provider" title="Permalink to this headline">¶</a></h2>
<p>Within the <code class="docutils literal notranslate"><span class="pre">~/.aws/config</span></code> file, you can also configure a profile to indicate that Boto3 should assume a role. When you do this, Boto3 will automatically make the corresponding <code class="docutils literal notranslate"><span class="pre">AssumeRoleWithWebIdentity</span></code> calls to AWS STS on your behalf. It will handle in-memory caching as well as refreshing credentials, as needed.</p>
<p>You can specify the following configuration values for configuring an IAM role in Boto3:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">role_arn</span></code> - The ARN of the role you want to assume.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">web_identity_token_file</span></code> - The path to a file which contains an OAuth 2.0 access token or OpenID Connect ID token that is provided by the identity provider. The contents of this file will be loaded and passed as the <code class="docutils literal notranslate"><span class="pre">WebIdentityToken</span></code> argument to the <code class="docutils literal notranslate"><span class="pre">AssumeRoleWithWebIdentity</span></code> operation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">role_session_name</span></code> - The name applied to this assume-role session. This value affects the assumed role user ARN (such as <em>arn:aws:sts::123456789012:assumed-role/role_name/role_session_name</em>). This maps to the <code class="docutils literal notranslate"><span class="pre">RoleSessionName</span></code> parameter in the <code class="docutils literal notranslate"><span class="pre">AssumeRoleWithWebIdentity</span></code> operation. This is an optional parameter. If you do not provide this value, a session name will be automatically generated.</p></li>
</ul>
<p>Below is an example configuration for the minimal amount of configuration needed to configure an assume role with web identity profile:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># In ~/.aws/config</span>
<span class="k">[profile web-identity]</span>
<span class="na">role_arn</span><span class="o">=</span><span class="s">arn:aws:iam:...</span>
<span class="na">web_identity_token_file</span><span class="o">=</span><span class="s">/path/to/a/token</span>
</pre></div>
</div>
<p>This provider can also be configured via environment variables:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">AWS_ROLE_ARN</span></code> - The ARN of the role you want to assume.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AWS_WEB_IDENTITY_TOKEN_FILE</span></code> - The path to the web identity token file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AWS_ROLE_SESSION_NAME</span></code> - The name applied to this assume-role session.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These environment variables currently only apply to the assume role with web identity provider and do not apply to the general assume role provider configuration.</p>
</div>
</div>
<div class="section" id="boto-2-config">
<h2>Boto 2 config<a class="headerlink" href="#boto-2-config" title="Permalink to this headline">¶</a></h2>
<p>Boto3 will attempt to load credentials from the Boto2 config file. It first checks the file pointed to by <code class="docutils literal notranslate"><span class="pre">BOTO_CONFIG</span></code> if set, otherwise it will check <code class="docutils literal notranslate"><span class="pre">/etc/boto.cfg</span></code> and <code class="docutils literal notranslate"><span class="pre">~/.boto</span></code>. Note that only the <code class="docutils literal notranslate"><span class="pre">[Credentials]</span></code> section of the boto config file is used. All other configuration data in the boto config file is ignored.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example ~/.boto file</span>
<span class="k">[Credentials]</span>
<span class="na">aws_access_key_id</span> <span class="o">=</span> <span class="s">foo</span>
<span class="na">aws_secret_access_key</span> <span class="o">=</span> <span class="s">bar</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This credential provider is primarily for backwards compatibility purposes with Boto2.</p>
</div>
</div>
<div class="section" id="id1">
<h2>IAM roles<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>If you are running on Amazon EC2 and no credentials have been found by any of the providers above, Boto3 will try to load credentials from the instance metadata service. In order to take advantage of this feature, you must have specified an IAM role to use when you launched your EC2 instance.</p>
<p>For more information on how to configure IAM roles on EC2 instances, see the <a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html">IAM Roles for Amazon EC2</a> guide.</p>
<p>Note that if you’ve launched an EC2 instance with an IAM role configured, there’s no explicit configuration you need to set in Boto3 to use these credentials. Boto3 will automatically use IAM role credentials if it does not find credentials in any of the other places listed previously.</p>
</div>
<div class="section" id="best-practices-for-configuring-credentials">
<h2>Best practices for configuring credentials<a class="headerlink" href="#best-practices-for-configuring-credentials" title="Permalink to this headline">¶</a></h2>
<p>If you’re running on an EC2 instance, use AWS IAM roles. See the <a class="reference external" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/iam-roles-for-amazon-ec2.html">IAM Roles for Amazon EC2</a> guide for more information on how to set this up.</p>
<p>If you want to interoperate with multiple AWS SDKs (e.g Java, Javascript, Ruby, PHP, .NET, AWS CLI, Go, C++), use the shared credentials file (<code class="docutils literal notranslate"><span class="pre">~/.aws/credentials</span></code>). By using the shared credentials file, you can use a single file for credentials that will work in all AWS SDKs.</p>
</div>
</div>


          </div>
            
  <div class="footer-relations">
    
      <div class="pull-left">
        <a class="btn btn-default" href="configuration.html" title="previous chapter (use the left arrow)">Configuration</a>
      </div>
    
      <div class="pull-right">
        <a class="btn btn-default" href="clients.html" title="next chapter (use the right arrow)">Low-level clients</a>
      </div>
    </div>
    <div class="clearer"></div>
  
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="clients.html" title="Low-level clients"
             >next</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Configuration"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Boto3 Docs 1.17.70 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Developer guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Credentials</a></li> 
      </ul>
    </div>
<div class="footer">
    <script type="text/javascript" src="../_static/shortbreadv1.js"></script>
    <script type="text/javascript">
            const shortbread = AWSCShortbread({
                domain: ".amazonaws.com",
});
            shortbread.checkForCookieConsent();
    </script>
    <a href="http://aws.amazon.com/privacy">Privacy</a> | <a href="http://aws.amazon.com/terms">Site Terms</a> | <a
        href="#" onclick="shortbread.customizeCookies();">Cookie preferences</a> |
    &copy; Copyright 2021, Amazon Web Services, Inc. Created using <a href="https://www.sphinx-doc.org/">Sphinx</a>.
</div>
  </body>
</html>